package:
  - path: /pkginfo.json
    content: |
      {
        "environment": {
          "DCOS_VERSION": "{{ dcos_version }}",
          "DCOS_IMAGE_COMMIT": "{{ dcos_image_commit }}"
        }
      }
  - path: /etc/dcos-version.json
    content: |
      {
        "version": "{{ dcos_version }}",
        "dcos-image-commit": "{{ dcos_image_commit }}",
        "bootstrap-id": "{{ bootstrap_id }}"
      }
  - path: /etc/ui-config.json
    content: |
      {
        "uiConfiguration": {
          "plugins": {
            "banner": {
              "enabled": {{ ui_banner }},
              "backgroundColor": "{{ ui_banner_background_color }}",
              "foregroundColor": "{{ ui_banner_foreground_color }}",
              "headerTitle": {{ ui_banner_header_title }},
              "headerContent": {{ ui_banner_header_content }},
              "footerContent": {{ ui_banner_footer_content }},
              "imagePath": {{ ui_banner_image_path }},
              "dismissible": {{ ui_banner_dismissible }}
            },
            "external-links": {"enabled": {{ ui_external_links }}},
{% switch is_ee %}
{% case "true" %}
            "authentication": {"enabled": true},
            "oauth": {"enabled": false},
{% case "false" %}
            "authentication": {"enabled": false},
{% switch auth_enabled %}
{% case "true" %}
            "oauth": {
              "enabled": true,
              "authHost": "{{ oauth_auth_host }}"
            },
{% case "false" %}
            "oauth": {"enabled": false},
{% endswitch %}
{% endswitch %}
            "networking": {"enabled": {{ ui_networking }}},
            "organization": {"enabled": {{ ui_organization }}},
            "tracking": {"enabled": {{ telemetry_enabled }}}
          }
        }
      }
